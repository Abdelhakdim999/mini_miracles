{% extends 'base.html.twig' %}




{% block body %}

    <div class="jumbotron text-center">
        <center>
            <h2><label  for="topicOptions" style="font-size: 28px; color: #5bc0de;" class="ng-binding" >Ajouter Pack </label></h2>
            {{ form_start(form) }}
            <fieldset style="width: 30%;margin: auto;">
                <TABLE class="table table-striped">
                    <tr><td ><div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="border-bottom:none">
                                <label  for="topicOptions" style="font-size: 18px; color: #0b3e6f;" class="ng-binding">Titre</label>


                                <div class="my-custom-class-for-errors">
                                    {{ form_errors(form) }}
                                </div>



                                {{ form_widget(form.titre) }}<br><br>


                            </div>

                        </td></tr>



                    <tr><td>
                            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="border-bottom:none">
                                <label  for="topicOptions" style="font-size: 18px; color: #0b3e6f;" class="ng-binding">Description</label>

                                {{ form_widget(form.description) }}<br><br>
                            </div>
                        </td></tr>

                    <tr><td>
                            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="border-bottom:none">
                                <label  for="topicOptions" style="font-size: 18px; color: #0b3e6f;" class="ng-binding">Image</label>

                                {{ form_widget(form.image) }}<br><br>
                            </div>
                        </td></tr>
                    <tr><td>
                            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="border-bottom:none">
                                <label  for="topicOptions" style="font-size: 18px; color: #0b3e6f;" class="ng-binding">Réduction</label>



                                {{ form_widget(form.reduction) }}<br><br>
                            </div>
                        </td></tr>

                    <tr><td>
                            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="border-bottom:none">
                                <label  for="topicOptions" style="font-size: 18px; color: #0b3e6f;" class="ng-binding">Type</label>



                                {{ form_widget(form.type) }}<br><br>
                            </div>
                        </td></tr>

                    <tr><td>
                            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="border-bottom:none">
                                <label  for="topicOptions" style="font-size: 18px; color: #0b3e6f;" class="ng-binding">Duree du </label>

                                {{ form_widget(form.dureeDu) }}<br><br>

                                <div  style="visibility: hidden">

                                    <label id="now" >    {{ "now"|date("m/d/Y") }}</label>
                                </div>
                            </div>
                        </td></tr>

                    <tr><td>




                            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="border-bottom:none">
                                <label  for="topicOptions" style="font-size: 18px; color: #0b3e6f;" class="ng-binding" > Duree à </label>
                                <div class="input-group date">
                                    <div class="input-group-addon" >


                                        {{ form_widget(form.dureeA) }}




                                        <div  style="visibility: hidden">

                                            <label id="now" >    {{ "now"|date("m/d/Y") }}</label>
                                        </div>

                                    </div>


                                </div>


                            </div>
                        </td></tr>

                    <tr><td colspan="2" align="center">
                            <input type="submit" value="valider" class="btn btn-primary " id="sub">
                        </td></tr>



                </TABLE>
            </fieldset>

            {{ form_end(form) }}


        </center>

        <div class="text-center">

            <a href="{{ path('pack_index') }}" class="btn btn-primary">   <i class="fa fa-list"> <br> Retour</i>  </a>
        </div>
    </div>



    {% if not form.vars.valid %}
        <ul class="alert alert-danger">
            {# on affiche en premier les erreurs globales (cas classiques) #}
            {% for error in form.vars.errors %}
                <li>{{error.message}}</li>
            {% endfor %}
            {# ainsi que les erreurs concernant chaque champs #}
            {% for child in form.children %}
                {# si le champ à des erreur #}
                {% if child.vars.errors is defined %}
                    {% for error in child.vars.errors %}
                        <li>"{{child.vars.label}}" : {{error.message}} </li> {# on ajoute le label du champ devant l'erreur pour plus de précisions. #}
                    {% endfor %}
                {% endif %}
            {% endfor %}
        </ul>
    {% endif %}


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script>


        $('#eventbundle_pack_reduction').keyup(function () {


            $.ajax({

                success: function (data) {
                    var x=$('#eventbundle_pack_reduction').val();
                    if (x < 1 ) {
                        alert('Cette valeur doit être strictement supérieur à 1');


                        $('#sub').prop('disabled', true);

                    } else {

                        $('#sub').prop('disabled', false);
                    }
                }
            });


        });



    </script>



{% endblock %}
